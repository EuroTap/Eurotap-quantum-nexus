<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üîê Quantum Cryptography Demo | EuroTAP</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            background: linear-gradient(135deg, #000000, #0a0a0a, #1a1a2e, #16213e);
            color: white;
            font-family: 'Arial', sans-serif;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            padding: 30px 0;
            border-bottom: 2px solid rgba(0, 255, 136, 0.3);
            margin-bottom: 30px;
        }

        .logo {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 10px;
            background: linear-gradient(45deg, #00ff88, #00ccff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .demo-title {
            font-size: 1.8rem;
            color: #00ff88;
            margin-bottom: 10px;
        }

        .back-btn {
            position: absolute;
            top: 20px;
            left: 20px;
            background: rgba(0, 255, 136, 0.2);
            border: 1px solid #00ff88;
            color: #00ff88;
            padding: 10px 20px;
            border-radius: 20px;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .back-btn:hover {
            background: rgba(0, 255, 136, 0.4);
            transform: translateY(-2px);
        }

        .crypto-demo {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 40px 0;
        }

        @media (max-width: 768px) {
            .crypto-demo {
                grid-template-columns: 1fr;
                gap: 20px;
            }
        }

        .demo-panel {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 25px;
            border: 1px solid rgba(0, 255, 136, 0.3);
        }

        .panel-title {
            color: #00ff88;
            font-size: 1.3rem;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .input-group {
            margin: 20px 0;
        }

        .input-label {
            display: block;
            color: #ccc;
            margin-bottom: 8px;
            font-weight: bold;
        }

        .crypto-input {
            width: 100%;
            padding: 12px;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(0, 255, 136, 0.3);
            border-radius: 8px;
            color: white;
            font-family: monospace;
            font-size: 0.9rem;
            resize: vertical;
            min-height: 80px;
        }

        .crypto-input:focus {
            outline: none;
            border-color: #00ff88;
            background: rgba(0, 0, 0, 0.5);
        }

        .crypto-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(45deg, #00ff88, #00ccff);
            border: none;
            border-radius: 8px;
            color: #000;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 10px 0;
        }

        .crypto-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 255, 136, 0.4);
        }

        .crypto-btn:active {
            transform: translateY(0);
        }

        .crypto-output {
            background: rgba(0, 0, 0, 0.5);
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            border-left: 3px solid #00ff88;
            font-family: monospace;
            font-size: 0.8rem;
            word-break: break-all;
            max-height: 200px;
            overflow-y: auto;
        }

        .algorithm-selector {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin: 20px 0;
        }

        .algo-option {
            padding: 10px;
            background: rgba(0, 255, 136, 0.1);
            border: 1px solid rgba(0, 255, 136, 0.3);
            border-radius: 8px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .algo-option.selected {
            background: rgba(0, 255, 136, 0.3);
            border-color: #00ff88;
        }

        .algo-option:hover {
            background: rgba(0, 255, 136, 0.2);
        }

        .comparison-section {
            background: linear-gradient(135deg, rgba(255, 0, 0, 0.1), rgba(255, 136, 0, 0.1));
            border: 2px solid #ff4444;
            border-radius: 15px;
            padding: 25px;
            margin: 30px 0;
        }

        .attack-demo {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }

        .attack-panel {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 20px;
            border: 1px solid rgba(255, 68, 68, 0.3);
        }

        .attack-btn {
            background: linear-gradient(45deg, #ff4444, #ff8800);
            color: white;
            border: none;
            padding: 12px;
            border-radius: 8px;
            cursor: pointer;
            width: 100%;
            font-weight: bold;
            margin: 10px 0;
        }

        .attack-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 68, 68, 0.4);
        }

        .progress-bar {
            width: 100%;
            height: 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            overflow: hidden;
            margin: 10px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(45deg, #00ff88, #00ccff);
            width: 0%;
            transition: width 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            font-weight: bold;
            color: #000;
        }

        .attack-progress-fill {
            background: linear-gradient(45deg, #ff4444, #ff8800);
        }

        .security-level {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 15px 0;
            padding: 10px;
            background: rgba(0, 255, 136, 0.1);
            border-radius: 8px;
        }

        .security-icon {
            font-size: 1.5rem;
        }

        .quantum-safe { border-left: 3px solid #00ff88; }
        .vulnerable { border-left: 3px solid #ff4444; }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .stat-card {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            border: 1px solid rgba(0, 255, 136, 0.3);
        }

        .stat-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: #00ff88;
        }

        .stat-label {
            font-size: 0.8rem;
            color: #ccc;
            margin-top: 5px;
        }
    </style>
</head>
<body>
    <a href="javascript:history.back()" class="back-btn">‚Üê Back to Main</a>
    
    <div class="container">
        <header class="header">
            <div class="logo">üîÆ EuroTAP</div>
            <h1 class="demo-title">üîê Quantum Cryptography Demo</h1>
            <p>Experience the power of ML-DSA-65 post-quantum cryptography</p>
        </header>

        <!-- Algorithm Selection -->
        <div class="demo-panel">
            <h2 class="panel-title">üî¨ Select Cryptographic Algorithm</h2>
            <div class="algorithm-selector">
                <div class="algo-option selected" onclick="selectAlgorithm('mldsa65')" id="mldsa65">
                    <strong>ML-DSA-65</strong><br>
                    <small>Quantum-Safe</small>
                </div>
                <div class="algo-option" onclick="selectAlgorithm('rsa2048')" id="rsa2048">
                    <strong>RSA-2048</strong><br>
                    <small>Classical</small>
                </div>
            </div>
        </div>

        <!-- Encryption/Decryption Demo -->
        <div class="crypto-demo">
            <div class="demo-panel">
                <h2 class="panel-title">üîê Encryption Demo</h2>
                
                <div class="input-group">
                    <label class="input-label">Message to Encrypt:</label>
                    <textarea class="crypto-input" id="messageInput" placeholder="Enter your message here...">Hello, this is a quantum-safe payment of ‚Ç¨100.00</textarea>
                </div>
                
                <button class="crypto-btn" onclick="encryptMessage()">üîí Encrypt with <span id="currentAlgo">ML-DSA-65</span></button>
                
                <div class="progress-bar" id="encryptProgress" style="display: none;">
                    <div class="progress-fill" id="encryptFill"></div>
                </div>
                
                <div class="crypto-output" id="encryptedOutput" style="display: none;"></div>
                
                <div class="security-level quantum-safe" id="encryptSecurity">
                    <span class="security-icon">üõ°Ô∏è</span>
                    <div>
                        <strong>Quantum-Safe</strong><br>
                        <small>Protected against quantum attacks</small>
                    </div>
                </div>
            </div>

            <div class="demo-panel">
                <h2 class="panel-title">üîì Decryption Demo</h2>
                
                <div class="input-group">
                    <label class="input-label">Encrypted Data:</label>
                    <textarea class="crypto-input" id="encryptedInput" placeholder="Paste encrypted data here..."></textarea>
                </div>
                
                <button class="crypto-btn" onclick="decryptMessage()">üîì Decrypt Message</button>
                
                <div class="progress-bar" id="decryptProgress" style="display: none;">
                    <div class="progress-fill" id="decryptFill"></div>
                </div>
                
                <div class="crypto-output" id="decryptedOutput" style="display: none;"></div>
            </div>
        </div>

        <!-- Quantum Attack Simulation -->
        <div class="comparison-section">
            <h2 style="color: #ff4444; margin-bottom: 20px;">‚ö° Quantum Attack Simulation</h2>
            <p style="margin-bottom: 20px;">See how quantum computers would attack traditional vs quantum-safe cryptography:</p>
            
            <div class="attack-demo">
                <div class="attack-panel">
                    <h3 style="color: #ff4444;">üî• RSA-2048 Attack</h3>
                    <button class="attack-btn" onclick="simulateQuantumAttack('rsa')">üöÄ Launch Quantum Attack</button>
                    <div class="progress-bar" id="rsaAttackProgress" style="display: none;">
                        <div class="progress-fill attack-progress-fill" id="rsaAttackFill"></div>
                    </div>
                    <div id="rsaAttackResult" style="margin-top: 10px; display: none;"></div>
                </div>
                
                <div class="attack-panel">
                    <h3 style="color: #00ff88;">üõ°Ô∏è ML-DSA-65 Defense</h3>
                    <button class="attack-btn" onclick="simulateQuantumAttack('mldsa')" style="background: linear-gradient(45deg, #00ff88, #00ccff);">üöÄ Try Quantum Attack</button>
                    <div class="progress-bar" id="mldsaAttackProgress" style="display: none;">
                        <div class="progress-fill" id="mldsaAttackFill"></div>
                    </div>
                    <div id="mldsaAttackResult" style="margin-top: 10px; display: none;"></div>
                </div>
            </div>
        </div>

        <!-- Performance Stats -->
        <div class="demo-panel">
            <h2 class="panel-title">üìä Performance Comparison</h2>
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-value" id="encryptionTime">0.3ms</div>
                    <div class="stat-label">Encryption Time</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="keySize">2,592</div>
                    <div class="stat-label">Key Size (bytes)</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="signatureSize">3,309</div>
                    <div class="stat-label">Signature Size (bytes)</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="quantumSafety">‚àû</div>
                    <div class="stat-label">Years Until Broken</div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentAlgorithm = 'mldsa65';

        function selectAlgorithm(algo) {
            currentAlgorithm = algo;
            
            // Update UI
            document.querySelectorAll('.algo-option').forEach(el => el.classList.remove('selected'));
            document.getElementById(algo).classList.add('selected');
            
            const algoName = algo === 'mldsa65' ? 'ML-DSA-65' : 'RSA-2048';
            document.getElementById('currentAlgo').textContent = algoName;
            
            // Update security indicator
            const securityEl = document.getElementById('encryptSecurity');
            if (algo === 'mldsa65') {
                securityEl.className = 'security-level quantum-safe';
                securityEl.innerHTML = `
                    <span class="security-icon">üõ°Ô∏è</span>
                    <div>
                        <strong>Quantum-Safe</strong><br>
                        <small>Protected against quantum attacks</small>
                    </div>
                `;
            } else {
                securityEl.className = 'security-level vulnerable';
                securityEl.innerHTML = `
                    <span class="security-icon">‚ö†Ô∏è</span>
                    <div>
                        <strong>Quantum Vulnerable</strong><br>
                        <small>Can be broken by quantum computers</small>
                    </div>
                `;
            }
            
            // Update stats
            updateStats(algo);
        }

        function updateStats(algo) {
            if (algo === 'mldsa65') {
                document.getElementById('encryptionTime').textContent = '0.3ms';
                document.getElementById('keySize').textContent = '2,592';
                document.getElementById('signatureSize').textContent = '3,309';
                document.getElementById('quantumSafety').textContent = '‚àû';
            } else {
                document.getElementById('encryptionTime').textContent = '1.2ms';
                document.getElementById('keySize').textContent = '256';
                document.getElementById('signatureSize').textContent = '256';
                document.getElementById('quantumSafety').textContent = '0';
            }
        }

        function encryptMessage() {
            const message = document.getElementById('messageInput').value;
            if (!message.trim()) {
                alert('Please enter a message to encrypt');
                return;
            }

            const progressBar = document.getElementById('encryptProgress');
            const progressFill = document.getElementById('encryptFill');
            const output = document.getElementById('encryptedOutput');

            progressBar.style.display = 'block';
            output.style.display = 'none';

            let progress = 0;
            const interval = setInterval(() => {
                progress += Math.random() * 20;
                if (progress >= 100) {
                    progress = 100;
                    clearInterval(interval);
                    
                    setTimeout(() => {
                        const encrypted = generateEncryptedData(message, currentAlgorithm);
                        output.innerHTML = `
                            <strong>Encrypted Data (${currentAlgorithm.toUpperCase()}):</strong><br>
                            ${encrypted.data}<br><br>
                            <strong>Algorithm:</strong> ${encrypted.algorithm}<br>
                            <strong>Timestamp:</strong> ${new Date().toISOString()}<br>
                            <strong>Security Level:</strong> ${encrypted.security}
                        `;
                        output.style.display = 'block';
                        
                        // Auto-fill decryption input
                        document.getElementById('encryptedInput').value = encrypted.data;
                    }, 500);
                }
                progressFill.style.width = progress + '%';
                progressFill.textContent = Math.round(progress) + '%';
            }, 100);
        }

        function decryptMessage() {
            const encryptedData = document.getElementById('encryptedInput').value;
            if (!encryptedData.trim()) {
                alert('Please enter encrypted data to decrypt');
                return;
            }

            const progressBar = document.getElementById('decryptProgress');
            const progressFill = document.getElementById('decryptFill');
            const output = document.getElementById('decryptedOutput');

            progressBar.style.display = 'block';
            output.style.display = 'none';

            let progress = 0;
            const interval = setInterval(() => {
                progress += Math.random() * 25;
                if (progress >= 100) {
                    progress = 100;
                    clearInterval(interval);
                    
                    setTimeout(() => {
                        // Try to decrypt - for demo, we'll show original message
                        const originalMessage = document.getElementById('messageInput').value || 'Decrypted message content';
                        output.innerHTML = `
                            <strong>‚úÖ Decryption Successful!</strong><br><br>
                            <strong>Original Message:</strong><br>
                            ${originalMessage}<br><br>
                            <strong>Verification:</strong> ‚úÖ Signature Valid<br>
                            <strong>Quantum-Safe:</strong> ${currentAlgorithm === 'mldsa65' ? '‚úÖ Yes' : '‚ùå No'}<br>
                            <strong>Decryption Time:</strong> ${(Math.random() * 0.5 + 0.1).toFixed(2)}ms
                        `;
                        output.style.display = 'block';
                    }, 300);
                }
                progressFill.style.width = progress + '%';
                progressFill.textContent = Math.round(progress) + '%';
            }, 80);
        }

        function simulateQuantumAttack(target) {
            const progressBarId = target + 'AttackProgress';
            const progressFillId = target + 'AttackFill';
            const resultId = target + 'AttackResult';
            
            const progressBar = document.getElementById(progressBarId);
            const progressFill = document.getElementById(progressFillId);
            const result = document.getElementById(resultId);

            progressBar.style.display = 'block';
            result.style.display = 'none';

            let progress = 0;
            const speed = target === 'rsa' ? 15 : 0.1; // RSA breaks fast, ML-DSA resists

            const interval = setInterval(() => {
                progress += Math.random() * speed;
                
                if (target === 'rsa' && progress >= 100) {
                    progress = 100;
                    clearInterval(interval);
                    
                    setTimeout(() => {
                        result.innerHTML = `
                            <div style="color: #ff4444;">
                                ‚ùå <strong>CRYPTOGRAPHY BROKEN!</strong><br>
                                üïê Time: 2.3 seconds<br>
                                üîì Private key extracted<br>
                                ‚ö†Ô∏è All transactions compromised
                            </div>
                        `;
                        result.style.display = 'block';
                    }, 500);
                    
                } else if (target === 'mldsa' && progress >= 5) {
                    // ML-DSA resists - progress slows dramatically
                    clearInterval(interval);
                    
                    setTimeout(() => {
                        result.innerHTML = `
                            <div style="color: #00ff88;">
                                üõ°Ô∏è <strong>ATTACK FAILED!</strong><br>
                                ‚è±Ô∏è Time elapsed: ${Math.floor(Math.random() * 1000 + 500)} years<br>
                                üîí Cryptography remains secure<br>
                                ‚úÖ Quantum-resistant protection active
                            </div>
                        `;
                        result.style.display = 'block';
                        progressFill.style.width = '5%';
                        progressFill.textContent = 'RESISTED';
                    }, 2000);
                    return;
                }
                
                progressFill.style.width = Math.min(progress, 100) + '%';
                progressFill.textContent = target === 'rsa' ? Math.round(progress) + '%' : 'ATTACKING...';
            }, 150);
        }

        function generateEncryptedData(message, algorithm) {
            const timestamp = Date.now().toString();
            const randomData = Math.random().toString(36);
            
            if (algorithm === 'mldsa65') {
                return {
                    data: 'MLDSA65_' + btoa(message + timestamp + randomData).substring(0, 120) + '...',
                    algorithm: 'ML-DSA-65 (Post-Quantum)',
                    security: 'Quantum-Safe'
                };
            } else {
                return {
                    data: 'RSA2048_' + btoa(message + timestamp + randomData).substring(0, 80) + '...',
                    algorithm: 'RSA-2048 (Classical)',
                    security: 'Quantum-Vulnerable'
                };
            }
        }

        // Initialize
        selectAlgorithm('mldsa65');
    </script>
</body>
</html>
